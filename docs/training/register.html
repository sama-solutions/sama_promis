<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription | SAMA PROMIS Formation</title>
    
    <!-- Path Resolver for file:// mode -->
    <script src="assets/js/path-resolver.js"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/training-main.css">
</head>
<body>
    <!-- Header -->
    <header class="training-header fixed-top">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="index.html">
                    <i class="fas fa-graduation-cap me-2"></i>
                    <strong>SAMA PROMIS</strong> Formation
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Accueil</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="certification/index.html">Certification</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="downloads/index.html">Ressources</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="container" style="margin-top: 100px; margin-bottom: 50px;">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-lg border-0">
                    <div class="card-header bg-promis-primary text-white text-center py-4">
                        <h2 class="mb-0">
                            <i class="fas fa-user-plus me-2"></i>
                            Inscription au Programme de Formation
                        </h2>
                        <p class="mb-0 mt-2">Créez votre compte pour commencer votre formation</p>
                    </div>
                    <div class="card-body p-5">
                        <form id="registration-form">
                            <!-- Personal Information -->
                            <h5 class="text-promis-primary mb-3">
                                <i class="fas fa-user me-2"></i>Informations Personnelles
                            </h5>
                            
                            <div class="mb-3">
                                <label for="name" class="form-label">Nom Complet <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                                <input type="email" class="form-control" id="email" required>
                                <div class="form-text">Nous ne partagerons jamais votre email.</div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label">Téléphone</label>
                                    <input type="tel" class="form-control" id="phone">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="country" class="form-label">Pays <span class="text-danger">*</span></label>
                                    <select class="form-select" id="country" required>
                                        <option value="Sénégal" selected>Sénégal</option>
                                        <option value="Mali">Mali</option>
                                        <option value="Côte d'Ivoire">Côte d'Ivoire</option>
                                        <option value="Burkina Faso">Burkina Faso</option>
                                        <option value="Niger">Niger</option>
                                        <option value="Guinée">Guinée</option>
                                        <option value="Bénin">Bénin</option>
                                        <option value="Togo">Togo</option>
                                        <option value="Autre">Autre</option>
                                    </select>
                                </div>
                            </div>

                            <hr class="my-4">

                            <!-- Professional Information -->
                            <h5 class="text-promis-primary mb-3">
                                <i class="fas fa-briefcase me-2"></i>Informations Professionnelles
                            </h5>
                            
                            <div class="mb-3">
                                <label for="organization" class="form-label">Organisation <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="organization" required>
                            </div>
                            
                            <div class="mb-3">
                                <label for="position" class="form-label">Poste/Fonction <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="position" required>
                            </div>

                            <hr class="my-4">

                            <!-- Training Selection -->
                            <h5 class="text-promis-primary mb-3">
                                <i class="fas fa-graduation-cap me-2"></i>Sélection de Formation
                            </h5>
                            
                            <div class="mb-3">
                                <label for="role" class="form-label">Rôle Principal <span class="text-danger">*</span></label>
                                <select class="form-select" id="role" required>
                                    <option value="">Sélectionnez un rôle...</option>
                                    <option value="administrator">Administrateur Système</option>
                                    <option value="project-manager">Chef de Projet</option>
                                    <option value="donor">Bailleur de Fonds</option>
                                    <option value="beneficiary">Bénéficiaire/Partenaire</option>
                                    <option value="compliance-officer">Responsable Conformité</option>
                                    <option value="procurement-officer">Responsable Passation de Marchés</option>
                                    <option value="portal-user">Utilisateur Portail</option>
                                    <option value="citizen">Citoyen</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">Niveau Souhaité <span class="text-danger">*</span></label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="level" id="level-user" value="user" checked>
                                    <label class="form-check-label" for="level-user">
                                        <strong>Utilisateur</strong> - Formation pratique et opérationnelle
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="level" id="level-trainer" value="trainer">
                                    <label class="form-check-label" for="level-trainer">
                                        <strong>Formateur</strong> - Méthodologie pédagogique (nécessite niveau utilisateur)
                                    </label>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="motivation" class="form-label">Motivation (Optionnel)</label>
                                <textarea class="form-control" id="motivation" rows="3" placeholder="Pourquoi souhaitez-vous suivre cette formation?"></textarea>
                            </div>

                            <hr class="my-4">

                            <!-- Terms and Conditions -->
                            <div class="mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="terms" required>
                                    <label class="form-check-label" for="terms">
                                        J'accepte les <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">conditions d'utilisation</a> <span class="text-danger">*</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="newsletter">
                                    <label class="form-check-label" for="newsletter">
                                        Je souhaite recevoir les newsletters et mises à jour
                                    </label>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="d-grid">
                                <button type="submit" class="btn btn-promis-primary btn-lg">
                                    <i class="fas fa-check-circle me-2"></i>S'inscrire
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Benefits Section -->
                <div class="row g-4 mt-4">
                    <div class="col-md-3">
                        <div class="text-center">
                            <i class="fas fa-gift fa-3x text-promis-primary mb-2"></i>
                            <h6>Gratuit</h6>
                            <p class="small text-muted">Accès gratuit à tous les modules</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="text-center">
                            <i class="fas fa-certificate fa-3x text-promis-secondary mb-2"></i>
                            <h6>Certification</h6>
                            <p class="small text-muted">Certificat officiel reconnu</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="text-center">
                            <i class="fas fa-infinity fa-3x text-promis-info mb-2"></i>
                            <h6>Accès Illimité</h6>
                            <p class="small text-muted">Accès à vie aux ressources</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="text-center">
                            <i class="fas fa-users fa-3x text-promis-accent mb-2"></i>
                            <h6>Communauté</h6>
                            <p class="small text-muted">Support communautaire actif</p>
                        </div>
                    </div>
                </div>

                <!-- Already Registered -->
                <div class="text-center mt-4">
                    <p class="text-muted">
                        Déjà inscrit? 
                        <a href="#" onclick="checkProgress()">Vérifier ma progression</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Conditions d'Utilisation</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>1. Acceptation des Conditions</h6>
                    <p>En vous inscrivant au programme de formation SAMA PROMIS, vous acceptez les présentes conditions d'utilisation.</p>
                    
                    <h6>2. Utilisation du Contenu</h6>
                    <p>Le contenu de formation est fourni à des fins éducatives uniquement. Toute reproduction ou distribution non autorisée est interdite.</p>
                    
                    <h6>3. Certification</h6>
                    <p>Les certificats sont délivrés après réussite des évaluations avec le score minimum requis. Les certificats ont une durée de validité limitée.</p>
                    
                    <h6>4. Protection des Données</h6>
                    <p>Vos données personnelles sont collectées et traitées conformément au RGPD et aux lois sénégalaises sur la protection des données.</p>
                    
                    <h6>5. Modification des Conditions</h6>
                    <p>SAMA PROMIS se réserve le droit de modifier ces conditions à tout moment. Les utilisateurs seront informés des changements importants.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="training-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-0">&copy; 2024 SAMA Transparent State Solutions. Tous droits réservés.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="index.html" class="text-white me-3">Accueil</a>
                    <a href="downloads/index.html" class="text-white">Ressources</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/training-core.js"></script>
    <script>
        document.getElementById('registration-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate form
            if (!this.checkValidity()) {
                e.stopPropagation();
                this.classList.add('was-validated');
                return;
            }
            
            // Collect form data
            const userData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                country: document.getElementById('country').value,
                organization: document.getElementById('organization').value,
                position: document.getElementById('position').value,
                role: document.getElementById('role').value,
                level: document.querySelector('input[name="level"]:checked').value,
                motivation: document.getElementById('motivation').value,
                newsletter: document.getElementById('newsletter').checked,
                registeredAt: new Date().toISOString(),
                userId: Utils.generateId()
            };
            
            // Save to localStorage
            UserData.saveUser(userData);
            
            // Show success message
            Utils.showNotification('Inscription réussie! Bienvenue dans le programme de formation SAMA PROMIS.', 'success');
            
            // Redirect to role training page
            setTimeout(() => {
                window.location.href = getResolvedPath(`roles/${userData.role}/${userData.level}-level.html`);
            }, 2000);
        });
        
        function checkProgress() {
            const user = UserData.getUser();
            if (user) {
                alert(`Utilisateur: ${user.name}\nRôle: ${user.role}\nInscrit le: ${Utils.formatDate(user.registeredAt)}`);
            } else {
                alert('Aucune inscription trouvée. Veuillez vous inscrire d\'abord.');
            }
        }
    </script>
</body>
</html>
